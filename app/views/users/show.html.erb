<div class="user-profile">
  <h1><%= @user.name %> さんのプロフィール</h1>

  <% if @user.profile_image.attached? %>
    <%= image_tag @user.profile_image, class: 'profile-image' %>
  <% else %>
    <p>プロフィール画像は設定されていません。</p>
  <% end %>

  <% if current_user.following.include?(@user) %>
    <%= button_to 'フォロー解除', relationship_path(@user), method: :delete, class: 'btn btn-danger' %>
  <% else %>
    <%= button_to 'フォローする', relationships_path(followed_id: @user.id), method: :post, class: 'btn btn-primary' %>
  <% end %>

<p>フォロー数: <%= @user.following.count %></p>
<p>フォロワー数: <%= @user.followers.count %></p>

  <p>メールアドレス: <%= @user.email %></p>
  <p>自己紹介: <%= @user.introduction %></p>

  <% if current_user == @user %>
    <%= link_to 'プロフィールを編集', edit_user_path(@user), class: 'btn btn-primary' %>
    <%= button_to 'アカウントを削除', user_path(@user), method: :delete, data: { confirm: '本当にアカウントを削除しますか？' }, class: 'btn btn-danger' %>
  <% end %>
</div>
